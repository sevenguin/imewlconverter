之前一直忙于工作的事情，所以很少有时间来更新深蓝词库转换程序，最近遇到周末有些时间，所以整理了下思路，调整了下代码，增加了些功能。为什么这个版本叫1.5版而不是1.4版呢，主要是由于以下两方面的原因：

1.我之前写的版本确实是1.4版，增加了郑码转换，调整了注音功能，本来打算增加触宝手机输入法的导入导出，但是并未完全实现。该版本只在小范围内测试了下。

2.有朋友建议1.4版不吉利，跳过这个数字，所以直接使用1.5版。

下面来说是1.5版的改进吧：

1、增强注音功能。

注音功能主要用于对只提供了汉字没有提供拼音的词库（比如拼音加加词库、郑码词库等）进行注音。

注音的过程写的比较简单，首先是维护了每个字的所有读音的字典，然后还维护了每个字默认读音的字典（多音字只取一个最常用的读音），最后还维护了常用的一些含有多音字的词的默认注音。就这三个字典用于给单词注音。对于第三个字典，用户可以自己扩展，选择“帮助”菜单的“注音库生成”命令，会弹出注音库生成的界面。选择一个搜狗导出的文本格式的词库，然后单击“生成注音词库”按钮即可。程序会在当前运行的文件夹中生成一个“注音.txt”文件，里面是含有多音字的，注音不是默认注音的扩展注音库。



如果你想生成注音库，但是不是搜狗拼音的词库的话，那么可以先用深蓝词库转换程序转换为搜狗拼音词库，然后再生成注音词库。这个注音词库里面的注音一定要保证正确，不然对汉字进行注音的时候也会注错音。

2、增加郑码词库的导出导入功能。这里我用的是极点郑码输入法，该输入法提供词库的导出功能，在极点郑码的菜单中选择“管理工具”->“词库工具”->“词库生成与维护”命令，系统会弹出极点词库工具箱窗口。



导出用户词库

只需要点击用户词库下的“导出”按钮，系统会在我的文档位置生成一个freeime\_user.txt文件。在深蓝词库转换工具中选择该文件，然后将词库源选为郑码，即可导出为我们需要的词库。比如导出为搜狗拼音词库，如图所示：



导入用户词库

极点输入法的词库工具箱是支持文本词库的导入的，所以如果要将QQ拼音、搜狗拼音之类词库的导入到极点郑码中，只需要使用深蓝词库转换工具，选择目标词库为“无拼音纯汉字”导出的词库，然后再用极点工具中用户词库“批量加词”功能即可。如图：



3、自定义词库格式导入功能。

有一些不是很大众的输入法也提供了词库的导入导出功能，如果需要将这些输入法的词库导入到本工具支持的输入法中，那么可以使用自定义功能。

4、触宝手机输入法词库导出。